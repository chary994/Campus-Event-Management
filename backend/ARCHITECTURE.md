# Campus Event Management System - Architecture

## ğŸ— System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CLIENT APPLICATIONS                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Web App        â”‚    â”‚   Mobile App     â”‚    â”‚   Admin Portal â”‚ â”‚
â”‚  â”‚  (React/Vue)     â”‚    â”‚  (React Native/  â”‚    â”‚  (Web-based)   â”‚ â”‚
â”‚  â”‚                  â”‚    â”‚   Flutter)       â”‚    â”‚                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                       â”‚                       â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                       â”‚                       â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ REST API (HTTP/HTTPS)
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   EXPRESS.JS SERVER           â”‚
                    â”‚   (Node.js)                   â”‚
                    â”‚   PORT: 5000                  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                           â”‚                           â”‚
        â–¼                           â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ROUTES         â”‚      â”‚  MIDDLEWARE      â”‚      â”‚  SERVICES        â”‚
â”‚                  â”‚      â”‚                  â”‚      â”‚                  â”‚
â”‚ /api/auth        â”‚      â”‚ authMiddleware   â”‚      â”‚ Notification     â”‚
â”‚ /api/events      â”‚ â”€â”€â”€â”€â†’â”‚ (JWT verify)     â”‚ â”€â”€â”€â”€â†’â”‚ Service          â”‚
â”‚ /api/registr...  â”‚      â”‚                  â”‚      â”‚                  â”‚
â”‚ /api/notif...    â”‚      â”‚ roleMiddleware   â”‚      â”‚ - Reminders      â”‚
â”‚ /api/attendance  â”‚      â”‚ (Admin check)    â”‚      â”‚ - Warnings       â”‚
â”‚                  â”‚      â”‚                  â”‚      â”‚ - Alerts         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ - Broadcast      â”‚
        â”‚                                           â”‚                  â”‚
        â”‚                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      CONTROLLERS               â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ authController           â”‚  â”‚
                    â”‚ â”‚ - register()             â”‚  â”‚
                    â”‚ â”‚ - login()                â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ eventController          â”‚  â”‚
                    â”‚ â”‚ - createEvent()          â”‚  â”‚
                    â”‚ â”‚ - getAllEvents()         â”‚  â”‚
                    â”‚ â”‚ - updateEvent()          â”‚  â”‚
                    â”‚ â”‚ - markAttendance()       â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ registrationController   â”‚  â”‚
                    â”‚ â”‚ - registerForEvent()     â”‚  â”‚
                    â”‚ â”‚ - cancelRegistration()   â”‚  â”‚
                    â”‚ â”‚ - getMyRegistrations()   â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ notificationController   â”‚  â”‚
                    â”‚ â”‚ - getMyNotifications()   â”‚  â”‚
                    â”‚ â”‚ - sendReminders()        â”‚  â”‚
                    â”‚ â”‚ - broadcast()            â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ attendanceController     â”‚  â”‚
                    â”‚ â”‚ - markAttendance()       â”‚  â”‚
                    â”‚ â”‚ - getAttendance()        â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      DATA MODELS               â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ User                     â”‚  â”‚
                    â”‚ â”‚ - name, email, password  â”‚  â”‚
                    â”‚ â”‚ - role (admin/student)   â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ Event                    â”‚  â”‚
                    â”‚ â”‚ - title, description     â”‚  â”‚
                    â”‚ â”‚ - location, coordinates  â”‚  â”‚
                    â”‚ â”‚ - dates, seats, status   â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ Registration             â”‚  â”‚
                    â”‚ â”‚ - student, event         â”‚  â”‚
                    â”‚ â”‚ - status, timestamp      â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ Notification             â”‚  â”‚
                    â”‚ â”‚ - user, type, message    â”‚  â”‚
                    â”‚ â”‚ - isRead, timestamp      â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚                                â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚ â”‚ Attendance               â”‚  â”‚
                    â”‚ â”‚ - student, event         â”‚  â”‚
                    â”‚ â”‚ - coordinates, timestamp â”‚  â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                                     â–¼
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚  MONGODB DATABASE      â”‚
                        â”‚                        â”‚
                        â”‚ Collections:           â”‚
                        â”‚ - users                â”‚
                        â”‚ - events               â”‚
                        â”‚ - registrations        â”‚
                        â”‚ - notifications        â”‚
                        â”‚ - attendances          â”‚
                        â”‚                        â”‚
                        â”‚ Indexes:               â”‚
                        â”‚ - unique: email        â”‚
                        â”‚ - unique: student+evt  â”‚
                        â”‚ - createdBy, eventDt   â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagrams

### 1. Event Creation & Registration Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Admin     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ POST /events/create
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Event Created    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚             â”‚              â”‚
       â–¼             â–¼              â–¼
    Save to DB   Update count   Send Notifications
                                    â”‚
                                    â”œâ”€ "New Event Available"
                                    â””â”€ To: All Students

       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  All Students See Event  â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”‚ Browse Events
              â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ Student Registers        â”‚
       â”‚ POST /registrations/...  â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚             â”‚              â”‚
              â–¼             â–¼              â–¼
          Check Seats  Verify Deadline  Save to DB
                â”‚               â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                    âœ… Valid
                        â”‚
                        â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚ Send Confirmationâ”‚
                â”‚ Notification     â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Attendance Marking Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Student at Event   â”‚
â”‚  Location           â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ GPS Coordinates
       â”‚ latitude, longitude
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /attendance/markâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Haversine Distance Calculation   â”‚
â”‚ Distance = haversine(            â”‚
â”‚   lat1, lon1,                    â”‚
â”‚   lat2, lon2                     â”‚
â”‚ )                                â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€ Distance > Radius â”€â”
       â”‚                       â”‚
       â–¼                       â–¼
    âœ… Within Zone         âŒ Outside Zone
       â”‚                       â”‚
       â–¼                       â–¼
    Mark Attendance      Return Error
    Save to DB          with Distance
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
         Attendance Record Saved
```

### 3. Notification Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        AUTOMATED NOTIFICATION SYSTEM             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
           â”œâ”€ EVENT CREATION
           â”‚  â””â”€ â†’ Notify all students
           â”‚     "New event available"
           â”‚
           â”œâ”€ EVENT REGISTRATION
           â”‚  â””â”€ â†’ Notify student
           â”‚     "Registration confirmed"
           â”‚
           â”œâ”€ SCHEDULED TASKS (Hourly)
           â”‚  â”œâ”€ Check events 24h before
           â”‚  â”‚  â””â”€ â†’ Send reminders
           â”‚  â”‚     "Event tomorrow"
           â”‚  â”‚
           â”‚  â”œâ”€ Check registration deadlines
           â”‚  â”‚  â””â”€ â†’ Send warnings
           â”‚  â”‚     "Deadline approaching"
           â”‚  â”‚
           â”‚  â””â”€ Check seat capacity
           â”‚     â””â”€ â†’ Notify admin
           â”‚        "Only 10% seats left"
           â”‚
           â”œâ”€ EVENT UPDATE
           â”‚  â””â”€ â†’ Notify registered students
           â”‚     "Event details updated"
           â”‚
           â””â”€ ADMIN BROADCAST
              â””â”€ â†’ Notify all users
                  Custom message

           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚  Notification Storage â”‚
           â”‚  (MongoDB)           â”‚
           â”‚                      â”‚
           â”‚ - type               â”‚
           â”‚ - title              â”‚
           â”‚ - message            â”‚
           â”‚ - isRead             â”‚
           â”‚ - timestamp          â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚   Student Actions    â”‚
           â”‚                      â”‚
           â”‚ - View notifications â”‚
           â”‚ - Mark as read       â”‚
           â”‚ - Delete             â”‚
           â”‚ - Check unread count â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Request-Response Cycle

```
CLIENT REQUEST
      â”‚
      â”œâ”€ Auth Check (Middleware)
      â”‚  â”œâ”€ No Token â†’ 401
      â”‚  â”œâ”€ Invalid Token â†’ 401
      â”‚  â””â”€ Valid â†’ Continue
      â”‚
      â”œâ”€ Role Check (if needed)
      â”‚  â”œâ”€ Not Admin â†’ 403
      â”‚  â””â”€ Is Admin â†’ Continue
      â”‚
      â”œâ”€ Route Handler (Controller)
      â”‚  â”œâ”€ Validate Input
      â”‚  â”œâ”€ Query Database
      â”‚  â”œâ”€ Process Business Logic
      â”‚  â”‚
      â”‚  â”œâ”€ Success Path
      â”‚  â”‚  â”œâ”€ Save/Update DB
      â”‚  â”‚  â”œâ”€ Create Notifications (if needed)
      â”‚  â”‚  â””â”€ Return 200/201 + Data
      â”‚  â”‚
      â”‚  â””â”€ Error Path
      â”‚     â”œâ”€ Validation Failed â†’ 400
      â”‚     â”œâ”€ Not Found â†’ 404
      â”‚     â”œâ”€ Business Logic Error â†’ 400
      â”‚     â””â”€ Server Error â†’ 500
      â”‚
      â””â”€ RESPONSE TO CLIENT
```

---

## ğŸ—„ Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    USERS COLLECTION                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ _id: ObjectId                                      â”‚  â”‚
â”‚  â”‚ name: String                                       â”‚  â”‚
â”‚  â”‚ email: String (unique)                             â”‚  â”‚
â”‚  â”‚ password: String (hashed)                          â”‚  â”‚
â”‚  â”‚ role: "admin" | "student"                          â”‚  â”‚
â”‚  â”‚ createdAt, updatedAt: Date                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                       â–²                                   â”‚
â”‚                       â”‚ (User ref)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚           â”‚                        â”‚
            â”‚           â”‚                        â”‚
            â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
            â”‚    â”‚             â”‚         â”‚             â”‚
            â–¼    â–¼             â–¼         â–¼             â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚   EVENTS     â”‚  â”‚ REGISTRATIONS    â”‚  â”‚ NOTIFICATIONS    â”‚
      â”‚              â”‚  â”‚                  â”‚  â”‚                  â”‚
      â”‚ _id          â”‚  â”‚ _id              â”‚  â”‚ _id              â”‚
      â”‚ title        â”‚â—„â”€â”¤ student (ref)    â”‚  â”‚ user (ref) â”€â”€â”€â”€â” â”‚
      â”‚ description  â”‚  â”‚ event (ref) â”€â”€â”€â”â”‚  â”‚ event (ref) â”€â”€â”â”‚ â”‚
      â”‚ createdBy(U)â”€â”¤â”€â”€â”¤              â”Œâ”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â”‚
      â”‚ department   â”‚  â”‚              â”‚  â”‚ type             â”‚ â”‚
      â”‚ locationName â”‚  â”‚ registStatus â”‚  â”‚ title            â”‚ â”‚
      â”‚ latitude     â”‚  â”‚ registeredAt â”‚  â”‚ message          â”‚ â”‚
      â”‚ longitude    â”‚  â”‚              â”‚  â”‚ isRead           â”‚ â”‚
      â”‚ radius       â”‚  â”‚ (unique:     â”‚  â”‚ sentAt           â”‚ â”‚
      â”‚ eventDate    â”‚  â”‚  student,    â”‚  â”‚                  â”‚ â”‚
      â”‚ eventDeadlineâ”‚  â”‚  event)      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
      â”‚ totalSeats   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
      â”‚ registCount  â”‚                                          â”‚
      â”‚ status       â”‚                                          â”‚
      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
             â”‚                                                  â”‚
             â”‚ (Event ref)                                      â”‚
             â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   ATTENDANCES    â”‚          â”‚
                                  â”‚                  â”‚          â”‚
                                  â”‚ _id              â”‚          â”‚
                                  â”‚ student (ref) â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚ event (ref) â”€â”€â”€â”€â”â”‚
                                  â”‚ latitude        â”‚â”‚
                                  â”‚ longitude       â”‚â”‚
                                  â”‚ markedAt        â”‚â”‚
                                  â”‚ (unique:        â”‚â”‚
                                  â”‚  student,event) â”‚â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                                           â”‚        â”‚
                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RELATIONSHIPS:
- Event.createdBy â†’ User._id (1:Many)
- Registration.student â†’ User._id (Many:1)
- Registration.event â†’ Event._id (Many:1)
- Attendance.student â†’ User._id (Many:1)
- Attendance.event â†’ Event._id (Many:1)
- Notification.user â†’ User._id (Many:1)
- Notification.event â†’ Event._id (Many:1, optional)
```

---

## ğŸ” Authentication & Authorization Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         USER LOGIN REQUEST                   â”‚
â”‚  POST /api/auth/login                        â”‚
â”‚  {email, password}                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Find User by Email   â”‚
        â”‚ in Database          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
            â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
            â”‚           â”‚
      âŒ Not Found   âœ… Found
            â”‚           â”‚
            â”‚           â–¼
            â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚    â”‚ Compare Passwords    â”‚
            â”‚    â”‚ (bcrypt.compare)     â”‚
            â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚              â”‚
            â”‚         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
            â”‚         â”‚         â”‚
            â”‚    âŒ Wrong   âœ… Match
            â”‚         â”‚         â”‚
            â”‚         â”‚         â–¼
            â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚         â”‚  â”‚ Generate JWT Token   â”‚
            â”‚         â”‚  â”‚ - userId             â”‚
            â”‚         â”‚  â”‚ - role               â”‚
            â”‚         â”‚  â”‚ - expiry (24h)       â”‚
            â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚         â”‚            â”‚
            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Send Response:       â”‚
        â”‚ - token              â”‚
        â”‚ - user info          â”‚
        â”‚ - status 200         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SUBSEQUENT REQUESTS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     REQUEST TO PROTECTED ROUTE           â”‚
â”‚  Authorization: Bearer {token}           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ authMiddleware:          â”‚
        â”‚ 1. Extract token         â”‚
        â”‚ 2. Verify signature      â”‚
        â”‚ 3. Decode payload        â”‚
        â”‚ 4. Attach to req.user    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
            â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
            â”‚           â”‚
      âŒ Invalid    âœ… Valid
            â”‚           â”‚
            â”‚           â–¼
         401      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ Check Role      â”‚
                  â”‚ (if admin route)â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                      â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
                      â”‚         â”‚
                  âŒ Wrong   âœ… Admin
                      â”‚         â”‚
                   403      âœ… Proceed
                             â”‚
                             â–¼
                        Execute Handler
```

---

## ğŸš€ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PRODUCTION ENVIRONMENT                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚          LOAD BALANCER / REVERSE PROXY           â”‚ â”‚
â”‚  â”‚        (Nginx / AWS ALB)                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                       â”‚                                â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚    â”‚          â”‚                â”‚          â”‚           â”‚
â”‚    â–¼          â–¼                â–¼          â–¼           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚Server 1â”‚ â”‚Server 2â”‚ .. â”‚Server 3â”‚ â”‚Server 4â”‚     â”‚
â”‚  â”‚Node.js â”‚ â”‚Node.js â”‚    â”‚Node.js â”‚ â”‚Node.js â”‚     â”‚
â”‚  â”‚Express â”‚ â”‚Express â”‚    â”‚Express â”‚ â”‚Express â”‚     â”‚
â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜     â”‚
â”‚      â”‚          â”‚             â”‚          â”‚           â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                 â”‚                                    â”‚
â”‚                 â–¼                                    â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚      â”‚  MONGODB CLUSTER     â”‚                       â”‚
â”‚      â”‚  (Sharded/Replicated)â”‚                       â”‚
â”‚      â”‚  - Primary           â”‚                       â”‚
â”‚      â”‚  - Secondary 1       â”‚                       â”‚
â”‚      â”‚  - Secondary 2       â”‚                       â”‚
â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  MONITORING & LOGGING                        â”‚  â”‚
â”‚  â”‚  - Prometheus metrics                        â”‚  â”‚
â”‚  â”‚  - ELK Stack (Elasticsearch)                 â”‚  â”‚
â”‚  â”‚  - Error tracking (Sentry)                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  SCHEDULED TASKS                             â”‚  â”‚
â”‚  â”‚  - Notification scheduler                    â”‚  â”‚
â”‚  â”‚  - Database cleanup                          â”‚  â”‚
â”‚  â”‚  (can use: node-cron, Bull, Agenda)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Technology Stack

```
FRONTEND LAYER
â”œâ”€ Web (React / Vue.js / Angular)
â””â”€ Mobile (React Native / Flutter / Native)

API LAYER
â”œâ”€ Express.js (HTTP Server)
â”œâ”€ JSON (Data Format)
â”œâ”€ REST (Architecture)
â””â”€ JWT (Authentication)

BUSINESS LOGIC
â”œâ”€ Controllers (Route Handlers)
â”œâ”€ Services (Business Logic)
â”œâ”€ Middleware (Cross-cutting)
â””â”€ Utilities (Helpers)

DATA LAYER
â”œâ”€ Mongoose (ODM)
â”œâ”€ MongoDB (NoSQL DB)
â””â”€ Indexes (Performance)

INFRASTRUCTURE
â”œâ”€ Node.js (Runtime)
â”œâ”€ npm (Package Manager)
â”œâ”€ Docker (Containerization)
â””â”€ Deployment (Heroku/AWS/GCP)
```

---

**System Ready for Development & Deployment! ğŸš€**
